<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="stylesheet" href="styles.css">
    <title>Document</title>
</head>
<body>
    <div class="header">
        <div class="logo">
            <h3>Code Player</h3>
        </div>
        <div class="btn-container">
            <div class="btn active" id="html">HTML</div>
            <div class="btn" id="css">CSS</div>
            <div class="btn" id="java">JAVASCRIPT</div>
            <div class="btn active" id="output">OUTPUT</div>
        </div>
    </div>
    <div id="bodycontainer">
        <textarea id="htmlpanel" class="panel"><p id="p">Hello World!</p></textarea>
        <textarea id="csspanel" class="panel hidden">p{color:green}</textarea>
        <textarea id="javapanel" class="panel hidden">document.getElementById("p").innerHTML="laura mera"</textarea>

        <iframe id="outputpanel" class="panel"></iframe>
    </div>
</body>
<script type="text/javascript">
 
 function updateOutput() {
                
                $("iframe").contents().find("html").html("<html><head><style type='text/css'>" + $("#csspanel").val() + "</style></head><body>" + $("#htmlpanel").val() + "</body></html>");
                
              
                document.getElementById("outputpanel").contentWindow.eval($("#javapanel").val());
                
                
            }
    $(".btn").hover(function(){
        $(this).addClass("highlighted");
    },function(){
        $(this).removeClass("highlighted");
    }
    );
    $(".btn").click(function(){
        $(this).toggleClass("active");
        $(this).toggleClass("highlighted");
        var panelid=$(this).attr("id")+"panel";
        $("#"+panelid).toggleClass("hidden");  
        var active=4-$(".hidden").length;
         $(".panel").width(($(window).width() / active) - 10);
    }
    );

   
    $(".panel").height($(window).height() - $(".header").height() - 15);
             $(".panel").width(($(window).width() / 2) - 10);
         
             
             updateOutput();
            $("textarea").on("change keyup paste", function () {   updateOutput();
                
                
            });


</script>
</html>